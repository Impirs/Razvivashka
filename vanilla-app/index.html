<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Игры</title>
    <link rel="stylesheet" href="style_base.css">
</head>
<body>
    <div class="container">
        <section class="header">
            <h1>Развивашка</h1>
            <img src="../shared/assets/welcome.png" alt="welcome">
        </section>
        <section class="menu">
            <button class="text_btn" onclick="goCatalog()">
                <div class="btn_icon" id="play"></div>
                <span class="btn_text">Играть</span>
            </button>
            <button class="text_btn" onclick="goAchievements()">
                <div class="btn_icon" id="achieve"></div>
                <span class="btn_text">Достижения</span>
            </button>
            <button class="text_btn" onclick="goSettings()">
                <div class="btn_icon" id="settings"></div>
                <span class="btn_text">Настройки</span>
            </button>
            <button class="text_btn" id="exit_btn" onclick="quitApp()">
                <div class="btn_icon" id="back"></div>
                <span class="btn_text">Выйти</span>
            </button>
        </section>
    </div>
    <div class="form-btn new-feature-added" onclick="openForm()">
        <span>Форма обратной связи</span>
        <div class="form-icon" id="question" />
    </div>
    <script type="module">
        import {getName} from './data_manager.js';
        
        const userName = getName();
        
        if (userName === "default") {
            const target = document.getElementById("settings");
            const settingsButton = target ? target.closest("button") : null;

            settingsButton.classList.add("new-feature-added");
        }
    </script>
    <script>
        const formURL = 'https://forms.gle/hQ3Fo3BozxDgZqeM6';

        function goCatalog() {
            window.electronAPI.navigate('pages/page_catalog.html');
        }

        function goAchievements() {
            window.electronAPI.navigate('pages/page_achievements.html');
        }

        function goSettings() {
            window.electronAPI.navigate('pages/page_settings.html');
        }

        function quitApp() {
            window.electronAPI.quitApp();
        }

        function openForm() {
            if (window.electronAPI && window.electronAPI.openExternal) {
                window.electronAPI.openExternal(formURL);
            } else {
                console.error('electronAPI.openExternal is not defined');
            }
        }
    </script>
</body>
</html>