@use '../colors';
@use 'sass:list';

.queens-panel {
	.q-accent { color: #eb92bf9f }
	.q-sep { border: 0.0625rem solid colors.$primary; }
	.queens-remaining {
		border: 0.0625rem solid colors.$primary;
		border-radius: 0.75rem;
		box-shadow: 0 4px 30px colors.$shadow;
		width: 10rem;
		height: 3rem;
		display: flex;
		align-items: center;
		justify-content: center;
		gap: 0.4rem;
		background: colors.$fourth;
		font-size: 1.375rem;
		color: colors.$text_secondary;

		> img {
			width: 2rem;
			height: 2rem;
		}
	}

	.queens-board {
		user-select: none;
		display: grid;
		gap: 0.125rem;
		cursor: url('../assets/cursor/hand_1.svg') 8 8, pointer !important;

		&.long-press-active {
			cursor: url('../assets/cursor/hand_3.svg') 8 8, auto !important;
		}

		&.size-4 { grid-template-columns: repeat(4, calc(30rem / 4)); }
		&.size-5 { grid-template-columns: repeat(5, calc(32rem / 5)); }
		&.size-6 { grid-template-columns: repeat(6, calc(34rem / 6)); }
		&.size-7 { grid-template-columns: repeat(7, calc(36rem / 7)); }
		&.size-8 { grid-template-columns: repeat(8, calc(38rem / 8)); }
	}

	.q-cell {
		position: relative;
		border: 0.0625rem solid #9aa3ff;
		border-radius: 0.5rem;
		display: flex;
		align-items: center;
		justify-content: center;
		aspect-ratio: 1 / 1;
		transition: box-shadow 0.12s ease, transform 0.06s ease;
		cursor: inherit;

		&.has-queen { box-shadow: 0 0 0 4px rgba(154, 163, 255, 0.4) inset; }
		&.row-bad { box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.7) inset; }
		&.col-bad { box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.7) inset; }
		&.region-bad { box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.7) inset; }
		&.adj-bad { box-shadow: 0 0 0 3px rgba(255, 0, 0, 0.85) inset; }

		&:active { 
			transform: scale(0.98);
		}

		.q-piece {
			width: 2rem;
			height: 2rem;
			color: #232323;
			pointer-events: none;
			user-select: none;
		}

			.q-blocked {
				position: absolute;
				inset: 0;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 1.25rem;
				color: rgba(0, 0, 0, 0.35);
				pointer-events: none;
				user-select: none;
			}
	}

	// region colors (8 stronger pastel entries for clear distinction)
	$region-colors:(#ffb8d1, /* rosy pink - stronger */
					#a8ffd1, /* mint green - stronger */
					#9fb8ff, /* periwinkle */
					#fff2a3, /* pale lemon */
					#ffcf9a, /* warm peach */
					#b6e3a1, /* pastel sage - distinct from periwinkle and aqua */
					#58d6c9, /* vivid aqua/teal for clear contrast */
					#e3a7f0  /* light magenta/mauve */);
	@for $i from 0 through 7 {
		.q-cell.region-#{$i} {
			background: list.nth($region-colors, $i + 1);
		}
	}

}
