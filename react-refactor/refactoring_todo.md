# TODO

## Архитектурные изменения (React Refactor)

- [x] Полный переход с vanilla JS/HTML на React + TypeScript архитектуру
- [x] Создание компонентной системы (button, select, slider, icon, badge, checkbox, gamesetting, scorelist)
- [x] Настройка Vite для разработки и сборки
- [x] Настройка Electron интеграции с React (main.js, preload.js в папке electron/)
- [x] Создание системы лейаутов (GameLayout для игр)
- [x] Переход на модульную структуру папок по типам (pages/, components/, contexts/, utils/, types/)

## Изменение структуры хранения данных

- [x] Нужно изменить хранение games, поменять type на types для игр и сделать в данных отдельную позицию для списка типов вне зависимости от того все ли игры сейчас существуют
- [x] После изменения хранения типов проверить файлы для страницы achievements.
- [x] Создание типизированной системы хранения данных (gamestore.tsx с TypeScript типами)
- [x] Перенос данных пользователя в контекстную систему React
- [ ] добавить функцию для снижения пороговых значений для получения достижений при обновлении. Стартовые данные можно сразу привести к нужному виду и не париться с доп функциями, но старые данные пользователей нужно правильно обновить и перенести в файлы.
- [ ] Стоит добавить что-то в виде контроллера для временного отключения некоторых функций, данных и тому подобное на время нескольких патчей. Скорее всего это будет реализовываться при помощи еще одного контекста с фильтрацией

## Изменение навигации

- [x] Нужно будет добавить для всех страниц возможность выйти на предыдущю пол логике страницу при помощи Back
- [x] Нужно настроить нажатие не уведомление о достижении для обработки перехода и внесения в стек игры, с которой был осуществлен переход (тот же принцип что и при нажатии кнопки перехода)
- [x] Создание системы навигации на основе React (переход от отдельных HTML страниц к SPA)
- [x] Создание единого лейаута страниц с общей навигацией

## UX/UI

- [x] На стадии рефакторинга каталога игр столкнулся с желанием добавить фильтрацию по категориям игр, стоит учесть что в таком случае все страницы иноормации и вспомогательной навигации (каталог, настройки, достижения) должны будут иметь `<div className="content-header">` возможно их рендеринг нужно будет переделать после стадии разработки веток и лейаутов.
- [x] Переход на SCSS стилизацию с модульной структурой (_colors.scss, _fonts.scss, _icons.scss, _images.scss)
- [x] Создание переиспользуемых UI компонентов
- [ ] Реализация поиска и сортировки игр в каталоге (отмечено как TODO в CatalogPage.tsx)
- [ ] Добавление маскота на главную страницу (отмечено как TODO в HomePage.tsx)
- [x] Улучшение пользовательского интерфейса слайдера громкости и управления игроками (отмечено как TODO в SettingsPage.tsx)
- [x] Добавление рангов и подсказок для счета в scorelist компоненте

## FIX

- [x] Отладить смену языка (добавлен контекст)
- [x] Текст должен подгружаться синхронно, переводы хранятся в приложении, нет необходимости перегружать это, оставляя языки вне реакта
- [x] Создать GameController. Каждая игра обладает своей логикой, и только за нее соответствующий файл и должен отвечать, всю внешнюю универасльную логику можно вынести в отдельный провайдер, оборацивающий игровой универсальный лейаут
- [x] Создание системы контекстов для управления состоянием (i18n.tsx, gameController.tsx, gamestore.tsx, pref.tsx, notification.tsx)
- [x] Настройка системы переводов с поддержкой динамической загрузки языков
- [ ] Обновить код для уведомления о новом достижении, на данный момент достижения не отображаются, на местах вызова стоят заглушки с выводом уведомления в консоль
- [ ] Доработать notification.tsx для обработки переходов по уведомлениям

## TypeScript

- [x] Сделать ts окружение, глобальные 
- [x] Настроить тесты, setup + config
- [x] Создание типов для всех основных сущностей (gamestore.ts, language.ts, notification.ts, settings.ts)
- [x] Настройка tsconfig.json с path mapping (@/* -> src_ts/*)
- [x] Настройка asset-modules.d.ts для работы с ресурсами
- [x] Настройка Jest + Testing Library для тестирования React компонентов
- [ ] Разобраться как тестировать игры
- [x] Я изменил интерфейс для рекондов по играм, нужно проверить и переписать чек получения достижения: Для получения достижения о безошибочном прохождении какой-либо надо проверять isperfect рекорда, сам id достижения можно оставить типа 7x100 (как это сделано в digital game)

## Игры (рефакторинг)

- [x] Рефакторинг игры "Состав числа" (game_digital) - разделение на DigitGame.tsx, DigitMenu.tsx, digitGameLogic.ts
- [x] Рефакторинг игры "Таблица Шульте" (game_shulte) с переходом на React компоненты
- [x] Создание типизированной системы для игровой логики
- [ ] Рефакторинг игры чтения слогов (syllable) - в vanilla версии есть, в React версии пока отсутствует

## Overall

- [x] Настройка development окружения с hot reload (concurrently + vite + electron)
- [x] Обновление package.json со скриптами для React разработки
- [x] Настройка build процесса для React приложения
- [ ] Сделать github pages


## Games

> Такие игры как Состав числа и Таблица Шулье работают исправно, в них нет необходимости что-то кардинально менять или добавлять. Чего нельзя сказать об игре для обучения чтения. Даже если не брать в рассчет тот факт, что она плохо работает даже для изучения русского языка, но еще и совершенно не преспособленна к свободному ее переводу на другие языки. Также стоит обдумать хотя бы пару новых игр на логику и внимательность, а также реализовать сумму и таблицу уможений  

### Syllable

> В React рефакторе игра чтения слогов (syllable) пока полностью отсутствует. В vanilla версии она есть в папке `vanilla-app/games/syllable/`, но в `react-refactor/src_ts/modules/` её пока нет. Эта игра требует полного переосмысления архитектуры для поддержки многоязычности.
